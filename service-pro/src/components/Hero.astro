---
import { SITE } from "@/config/site";
import heroImg from "@/assets/images/hero.jpeg";

const wa =
  `https://wa.me/${SITE.whatsappE164}?text=` +
  encodeURIComponent("Hola! Quiero reservar una visita. ¿Disponibilidad?");
---
<section class="section heroSection">
  <div class="container">
    <!-- ✅ Caja/panel del HERO (solo este bloque, TrustBar queda igual afuera) -->
    <div class="heroPanel" data-reveal>
      <div class="heroShell">
        <div class="hero">
          <div class="hero__content">
            <p class="hero__kicker">CABA / AMBA • Residencial y comercial</p>

            <h1 class="h1 hero__title">
              Servicio técnico <span class="hero__accent">rápido</span> y claro.
            </h1>

            <p class="p">
              Lavarropas, heladeras, aires piso-techo, hornos eléctricos y cámaras frigoríficas.
              Coordiná en 1 minuto por WhatsApp.
            </p>

            <div class="hero__actions">
              <a class="btn btn--wa hero__waDesktop" href={wa}>Reservar por WhatsApp</a>
              <a class="btn btn--ghost" href="/#servicios">Ver servicios</a>
            </div>

            <style>

              /* En mobile: ocultamos el WA del hero para no duplicar */
              .hero__waDesktop{ display:none; }
              @media (min-width: 920px){
                .hero__waDesktop{ display:inline-flex; }
              }
            </style>

            <div class="hero__meta">
              <span>✅ {SITE.coverage}</span>
              <span>✅ Mensaje ordenado</span>
              <span>✅ Coordinación rápida</span>
            </div>
          </div>

          <div class="hero__media" aria-hidden="true">
            <img
              src={heroImg.src}
              width={heroImg.width}
              height={heroImg.height}
              alt="Service Pro - Servicio técnico"
              loading="eager"
              decoding="async"
            />
            <div class="hero__glow"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    /* =========================================================
       HERO ✅ Caja / Panel premium (solo el bloque del hero)
       ========================================================= */

    .heroSection{
      padding-top: 34px; /* aire debajo del header */
    }

    .heroPanel{
      border-radius: calc(var(--radius) + 18px);
      border: 1px solid rgba(255,255,255,.16);
      background:
        radial-gradient(900px 520px at 14% -12%, rgba(32,211,230,.16), transparent 62%),
        radial-gradient(900px 520px at 92% -12%, rgba(255,75,75,.10), transparent 62%),
        rgba(208, 217, 224, 0.88);

      box-shadow: 0 26px 80px rgba(10,20,40,.14);
      padding: 22px;
      overflow: hidden;
    }

    @media (min-width: 920px){
      .heroPanel{ padding: 28px; }
    }

    /* =========================================================
       HERO Layout (tu código original)
       ========================================================= */

    .hero{
      display:grid;
      gap: 18px;
      grid-template-columns: 1fr;
      align-items: center;
    }
    @media (min-width: 980px){
      .hero{ grid-template-columns: 1.15fr .85fr; }
    }

    .hero__kicker{
      margin:0 0 10px;
      color: rgba(11,19,32,.62);
      font-weight: 980;
      letter-spacing: .06em;
      text-transform: uppercase;
      font-size: 12px;
    }
    .hero__title{ margin-bottom: 10px; }
    .hero__accent{
      color: rgba(28, 73, 158, 0.981);;
      text-shadow: 0 0 22px rgba(57, 58, 62, 0.2);
    }
    .hero__actions{
      margin-top: 18px;
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .hero__meta{
      margin-top: 14px;
      display:flex;
      gap: 14px;
      flex-wrap: wrap;
      color: rgba(11,19,32,.74);
      font-weight: 900;
      font-size: 13px;
    }

    .hero__media{
      position: relative;
      border-radius: calc(var(--radius) + 12px);
      overflow: hidden;
      border: 1px solid rgba(11,19,32,.10);
      background: rgba(255,255,255,.70);
      box-shadow: var(--shadow);
      min-height: 260px;
    }
    .hero__media img{
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      transform: scale(1.02);
      filter: saturate(1.05) contrast(1.05);
    }
    .hero__glow{
      position:absolute;
      inset: 0;
      background:
        radial-gradient(520px 240px at 20% 10%, rgba(32,211,230,.18), transparent 60%),
        radial-gradient(520px 240px at 80% 90%, rgba(255,75,75,.10), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(11,19,32,.08));
      pointer-events: none;
    }
  </style>
</section>
